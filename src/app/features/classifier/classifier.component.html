<section class="mx-auto max-w-4xl p-6">
  <h2 class="text-2xl font-semibold mb-4">Clasificador</h2>
  <form class="space-y-6" (ngSubmit)="classify()" novalidate>
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">File (PDF / Word)</label>
      <input type="file" (change)="onFile($event)" accept=".pdf,.doc,.docx" class="block w-full text-sm text-gray-200 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-indigo-600 file:text-white hover:file:bg-indigo-500 cursor-pointer" />
      <div *ngIf="file" class="text-xs text-gray-400">Selected: {{ file.name }}</div>
    </div>
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Texto Manual</label>
      <textarea [(ngModel)]="manualText" rows="6" name="manualText" class="w-full rounded border border-gray-300 bg-white/5 p-3 text-sm text-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-y" placeholder="Pega o escribe el texto a clasificar..."></textarea>
    </div>
    <div class="flex items-center gap-4">
      <button type="button" (click)="classify()" [disabled]="loading" class="inline-flex items-center rounded bg-indigo-600 px-5 py-2 text-sm font-medium text-white shadow hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed">
        <span *ngIf="!loading">Clasificar</span>
        <span *ngIf="loading" class="flex items-center gap-2">
          <svg class="h-4 w-4 animate-spin" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="10" stroke-width="4" class="opacity-25"/><path d="M4 12a8 8 0 018-8" stroke-width="4" class="opacity-75"/></svg>
          Processing...
        </span>
      </button>
      <button type="reset" (click)="manualText='' ; file=undefined ; result=null" class="text-sm text-gray-400 hover:text-gray-200">Limpiar</button>
    </div>
  </form>
  <div *ngIf="error" class="mt-4 text-sm text-red-500">{{ error }}</div>
  <div *ngIf="result" class="mt-8 border-t border-gray-700 pt-6">
    <h3 class="text-lg font-medium mb-3">Quick result</h3>
    <div class="rounded bg-gray-900 p-4 text-xs overflow-auto">
      <pre class="whitespace-pre-wrap">{{ result | json }}</pre>
    </div>
    <a routerLink="/results" class="mt-4 inline-block text-indigo-400 hover:text-indigo-300 text-sm">See detail Â»</a>
  </div>
</section>
